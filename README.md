# mlp

<center>

[![Build Status][github-actions-svg]][github-actions]
[![Go Report Card][go-report-card]][go-report-card-link]
[![GoDoc][godoc-svg]][godoc-link]

</center>

`mlp` is a command line tool responsible for creating, updating and deleting kubernetes resources based on files
generated by Mia-Platform Console.
The main subcommands that the tool has are:

- `interpolate`: fill placeholders in kubernetes files with the values of ENV variables
- `generate`: create files for kubernetes `ConfigMap` and `Secret` based on files and/or ENV values
- `deploy`: create and/or update resources in a kubernetes namespace with the intepolated/generated files
- `kustomize`: run kustomize build
- `hydrate`: helper to fill kustomization.yml with resources and patches
- `completion`: generate the autocompletion

## To Start Using `mlp`

Read the documentation [here](./docs/10_overview.md).

## To Start Developing `mlp`

To start developing the CLI you must have this requirements:

- golang 1.22
- make

Once you have pulled the code locally, you can build the code with make:

```sh
make build
```

`make` will download all the dependencies needed and will build the binary for your current system that you can find
in the `bin` folder.

To build the docker image locally run:

```sh
make docker-build
```

## Testing `mlp`

To run the tests use the command:

```sh
make test
```

Or add the `DEBUG_TEST` flag to run the test with debug mode enabled:

```sh
make test DEBUG_TEST=1
```

Before sending a PR be sure that all the linter pass with success:

```sh
make lint
```

[github-actions]: https://github.com/mia-platform/mlp/actions
[github-actions-svg]: https://github.com/mia-platform/mlp/workflows/Continuous%20Integration%20Pipeline/badge.svg
[godoc-svg]: https://godoc.org/github.com/mia-platform/mlp?status.svg
[godoc-link]: https://godoc.org/github.com/mia-platform/mlp
[go-report-card]: https://goreportcard.com/badge/github.com/mia-platform/mlp
[go-report-card-link]: https://goreportcard.com/report/github.com/mia-platform/mlp
